
### AI风险事件的多维分类

[[View English Version]](README.md)

## 概述

本部分专注于AI风险事件多维分类，旨在建立统一的分类体系（RiskNet Taxonomy）和基准数据集，并提供模型评估的代码实现。核心目标是对比基于提示词的推理与微调大语言模型（LLMs）在多维分类任务中的性能，为AI风险事件的结构化分析提供技术支持。

## 项目结构与文件说明

### 1. `classification_result` 文件夹

该文件夹存储不同模型的分类结果（JSON格式），每个文件对应特定模型在测试集上的预测输出，具体说明如下：

- **文件名格式**：`<模型名称>.json`（例如 `qwen3-14B-sft.json`、`kimi-k2-prompt.json`）
- **内容**：字典列表，每个字典包含两组键值对：
  - `label`：真实标注，包括单标签任务（实体、意图、时间、欧盟AI法案风险等级）和多标签任务（领域分类及其主/子领域）
  - `predict`：模型预测结果，格式与 `label`一致
- **作用**：作为评估脚本的输入，用于计算各项性能指标。

### 2. `evaluation_result` 文件夹

该文件夹存储评估脚本生成的评估报告（TXT格式），每个文件对应特定模型的性能指标，包括：

- **文件名格式**：`<模型名称>.txt`（与 `classification_result`中的模型名称保持一致）
- **内容**：
  - 单标签任务指标（实体、意图、时间、风险等级的准确率、精确率、召回率、F1分数）
  - 多标签任务指标（主领域和子领域的汉明损失、微平均/宏平均准确率、精确率、召回率、F1分数）
- **作用**：直观呈现不同模型的性能差异，为结果分析和结论推导提供依据。

### 3. `fine-tuning-data` 文件夹

该文件夹包含了用于模型微调的数据集，构建规则如下：

- **数据来源**：基于标准事件数据集中每个AI风险事件的前5篇代表性新闻报道。
- **处理方式**：针对每个事件，将5篇新闻的标题和摘要汇总，并总结为一段简洁文本（保留事件关键信息）。
- **输入输出结构**：
  - **输入**：事件的汇总摘要
  - **输出**：该事件对应的多维标签（风险等级、领域标签、因果标签）
- **拆分比例**：数据集按8:2划分为训练集和验证集，用于模型微调。
- **作用**：为LLM微调提供高质量的监督数据，帮助模型学习风险相关模式，提升分类精度。

### 4. 核心评估脚本（Python代码）

该脚本实现模型性能评估逻辑，核心功能包括：

- **数据验证**：检查标签和预测结果的有效性（如单标签值为整数、多标签格式为列表）。
- **指标计算**：

  - 单标签任务（风险等级、因果标签）：计算准确率、精确率、召回率、F1分数。
  - 多标签任务（领域/子领域）：计算汉明损失、微平均/宏平均指标及每个类别的准确率。
- **结果输出**：将评估指标写入 `evaluation_result`文件夹的TXT文件，方便查看。
- **使用示例**：

  ```python
  # 评估微调后的qwen3-32B模型
  evaluate_model("classification_result/qwen3-32B-sft.json", "qwen3-32B-sft")
  ```
